"use strict";(self.webpackChunkharry_potter_social_network=self.webpackChunkharry_potter_social_network||[]).push([[675],{6675:function(e,n,r){r.r(n),r.d(n,{UsersPage:function(){return R}});var i=r(8489),s=r(2791),t={users:"Users_users__QPuRC",user:"Users_user__trAiR",avatarBlock:"Users_avatarBlock__0DGMf",profile:"Users_profile__FXaoJ",description:"Users_description__sGAYm"},o=r(6083),a=r(1087),l=r(184),u=function(e){return(0,l.jsxs)("div",{className:t.user,children:[(0,l.jsxs)("div",{className:t.profile,children:[(0,l.jsx)("div",{className:t.avatarBlock,children:(0,l.jsx)(a.rU,{to:"/profile/".concat(e.user.id),children:(0,l.jsx)("img",{src:e.user.photos.small?e.user.photos.small:o,alt:"userImage"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.user.id})),onClick:e.user.followed?function(){e.unfollow(e.user.id)}:function(){e.follow(e.user.id)},children:e.user.followed?"Unfollow":"Follow"})})]}),(0,l.jsxs)("div",{className:t.description,children:[(0,l.jsx)("div",{children:e.user.name}),(0,l.jsx)("div",{children:e.user.status?e.user.status:"Support Ukraine"}),(0,l.jsx)("div",{className:t.country,children:"props.location.country"}),(0,l.jsx)("div",{className:t.city,children:"props.location.city"})]})]})},c=r(7304),f=r(6222),d="Pagination_pagination__L4RR7",g="Pagination_pageNumber__V2ANc",m="Pagination_pageNumber_selected__mgVXW",_="Pagination_arrowButton__zxfh+",h="Pagination_arrowButton_hidden__t09if",p="Pagination_arrow__OzC4P",x="Pagination_arrow_left__L3M7l",v="Pagination_arrow_right__1ZBJO",j=r(1694),P=r.n(j),C=function(e){for(var n,r=e.totalItemsCount,i=e.pageSize,s=e.activePage,t=void 0===s?1:s,o=e.onPageClick,a=e.portionSize,u=void 0===a?5:a,c=Math.ceil(r/i),j=[],C=1;C<=c;C++)j.push(C);return n=c<=u||t<Math.floor(u/2)+1?j.slice(0,u):c-t<Math.ceil(u/2)?j.slice(c-u,c):j.slice(t-Math.floor(u/2)-1,t+Math.ceil(u/2)-1),r?(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("button",{onClick:function(){return o(t-1)},className:P()((0,f.Z)({},h,1===t),_),children:(0,l.jsx)("i",{className:"".concat(p," ").concat(x)})}),n.map((function(e){return(0,l.jsx)("span",{onClick:function(){return o(e)},className:P()(g,(0,f.Z)({},m,t===e)),children:e},e)})),(0,l.jsx)("button",{onClick:function(){return o(t+1)},className:P()((0,f.Z)({},h,t===c),_),children:(0,l.jsx)("i",{className:"".concat(p," ").concat(v)})})]}):(0,l.jsx)("div",{children:"\u041d\u0456\u043a\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"})},w=r(5705),N=r(9333),b=(0,r(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return e}))})),k=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.activePage},Z=function(e){return e.usersPage.isLoading},G=function(e){return e.usersPage.followingInProgress},U=function(e){return e.usersPage.filter},z=function(e){return{}},M=s.memo((function(e){var n=(0,N.CG)(U);return(0,l.jsx)("div",{children:(0,l.jsx)(w.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:z,onSubmit:function(n,r){var i=r.setSubmitting,s={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(s),i(!1)},children:function(e){var n=e.isSubmitting;return(0,l.jsxs)(w.l0,{children:[(0,l.jsx)(w.gN,{type:"text",name:"term"}),(0,l.jsxs)(w.gN,{name:"friend",as:"select",className:"my-select",children:[(0,l.jsx)("option",{value:"null",children:"All users"}),(0,l.jsx)("option",{value:"true",children:"Only followed users"}),(0,l.jsx)("option",{value:"false",children:"Only unfollowed users"})]}),(0,l.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})})),B=r(7509),I=r(7689),F=r(7636),R=function(){var e=(0,N.CG)(b),n=(0,N.CG)(k),r=(0,N.CG)(y),o=(0,N.CG)(S),a=(0,N.CG)(Z),f=(0,N.CG)(U),d=(0,N.CG)(G),g=(0,N.TL)(),m=(0,I.s0)(),_=(0,I.TH)();(0,s.useEffect)((function(){var e=F.Z.parse(_.search),r=o,s=f;e.page&&(r=Number(e.page)),e.term&&(s=(0,i.Z)((0,i.Z)({},s),{},{term:e.term})),e.friend&&(s=(0,i.Z)((0,i.Z)({},s),{},{friend:"null"===e.friend?null:"true"===e.friend})),g((0,B.D7)(r,n,s))}),[]),(0,s.useEffect)((function(){var e={};f.term&&(e.term=f.term),null!==f.friend&&(e.friend=String(f.friend)),1!==o&&(e.page=String(o)),m({pathname:"/users",search:F.Z.stringify(e)})}),[f,o]);var h=function(e){g((0,B.ZN)(e))},p=function(e){g((0,B.fv)(e))};return(0,l.jsxs)("section",{className:t.users,children:[(0,l.jsx)(M,{onFilterChanged:function(e){g((0,B.D7)(1,n,e))}}),(0,l.jsx)(C,{totalItemsCount:r,pageSize:n,activePage:o,onPageClick:function(e){g((0,B.D7)(e,n,f))},portionSize:5}),a?(0,l.jsx)(c.Z,{}):e.map((function(e){return(0,l.jsx)(u,{user:e,follow:h,unfollow:p,followingInProgress:d},e.id)}))]})}}}]);
//# sourceMappingURL=675.b772450b.chunk.js.map